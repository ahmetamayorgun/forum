@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap');

@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-900 dark:to-slate-800;
    @apply text-slate-900 dark:text-slate-100;
    @apply transition-colors duration-300;
    @apply antialiased;
    @apply overflow-x-hidden;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-slate-100 dark:bg-slate-800;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-slate-300 dark:bg-slate-600 rounded-md;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-slate-400 dark:bg-slate-500;
  }

  /* Focus styles for accessibility */
  *:focus-visible {
    @apply outline-2 outline-red-600 dark:outline-red-400 outline-offset-2;
  }
}

@layer components {
  /* Button Components */
  .btn-primary {
    @apply bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg;
    @apply transition-all duration-200 transform hover:scale-105;
    @apply shadow-lg hover:shadow-xl;
    @apply focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none;
  }
  
  .btn-secondary {
    @apply bg-slate-200 hover:bg-slate-300 text-slate-800 font-medium py-2 px-4 rounded-lg;
    @apply transition-all duration-200 transform hover:scale-105;
    @apply shadow-md hover:shadow-lg;
    @apply focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2;
    @apply dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200;
  }

  .btn-success {
    @apply bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg;
    @apply transition-all duration-200 transform hover:scale-105;
    @apply shadow-lg hover:shadow-xl;
    @apply focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2;
  }

  .btn-warning {
    @apply bg-yellow-600 hover:bg-yellow-700 text-white font-medium py-2 px-4 rounded-lg;
    @apply transition-all duration-200 transform hover:scale-105;
    @apply shadow-lg hover:shadow-xl;
    @apply focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2;
  }

  .btn-danger {
    @apply bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg;
    @apply transition-all duration-200 transform hover:scale-105;
    @apply shadow-lg hover:shadow-xl;
    @apply focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2;
  }
  
  /* Card Components */
  .card {
    @apply bg-white dark:bg-slate-800 rounded-lg shadow-md;
    @apply border border-slate-200 dark:border-slate-700;
    @apply transition-all duration-300 hover:shadow-lg;
    @apply backdrop-blur-sm bg-opacity-95 dark:bg-opacity-95;
  }

  .card-header {
    @apply p-6 border-b border-slate-200 dark:border-slate-700;
    @apply bg-slate-50 dark:bg-slate-900/50;
  }

  .card-body {
    @apply p-6;
  }

  .card-footer {
    @apply p-4 border-t border-slate-200 dark:border-slate-700;
    @apply bg-slate-50 dark:bg-slate-900/50;
    @apply flex justify-between items-center;
  }
  
  /* Glass Effect */
  .glass {
    @apply backdrop-blur-md bg-white/20 dark:bg-slate-800/20;
    @apply border border-white/30 dark:border-slate-700/30;
  }
  
  /* Gradient Text */
  .gradient-text {
    @apply bg-gradient-to-r from-red-600 to-orange-500 bg-clip-text text-transparent;
  }

  /* Form Components */
  .form-input {
    @apply w-full px-3 py-2 border-2 border-slate-200 dark:border-slate-700 rounded-lg;
    @apply bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100;
    @apply transition-all duration-200;
    @apply focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20;
    @apply placeholder-slate-500 dark:placeholder-slate-400;
  }

  .form-textarea {
    @apply w-full px-3 py-2 border-2 border-slate-200 dark:border-slate-700 rounded-lg;
    @apply bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100;
    @apply transition-all duration-200 resize-vertical;
    @apply focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20;
    @apply placeholder-slate-500 dark:placeholder-slate-400;
    @apply min-h-[120px];
  }

  .form-select {
    @apply w-full px-3 py-2 border-2 border-slate-200 dark:border-slate-700 rounded-lg;
    @apply bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100;
    @apply transition-all duration-200;
    @apply focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20;
  }

  /* Badge Components */
  .badge {
    @apply inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-semibold;
    @apply uppercase tracking-wide;
  }

  .badge-primary {
    @apply bg-red-600 text-white;
  }

  .badge-success {
    @apply bg-green-600 text-white;
  }

  .badge-warning {
    @apply bg-yellow-600 text-white;
  }

  .badge-danger {
    @apply bg-red-600 text-white;
  }

  /* Loading States */
  .loading-spinner {
    @apply w-6 h-6 border-4 border-slate-200 dark:border-slate-700 border-t-red-600 dark:border-t-red-400;
    @apply rounded-full animate-spin;
  }

  /* Error States */
  .error-message {
    @apply bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800;
    @apply text-red-800 dark:text-red-200 px-3 py-2 rounded-lg text-sm;
  }

  /* Success States */
  .success-message {
    @apply bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800;
    @apply text-green-800 dark:text-green-200 px-3 py-2 rounded-lg text-sm;
  }

  /* Warning States */
  .warning-message {
    @apply bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800;
    @apply text-yellow-800 dark:text-yellow-200 px-3 py-2 rounded-lg text-sm;
  }

  /* Markdown Editor Styles */
  .markdown-editor {
    @apply border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden;
    @apply bg-white dark:bg-slate-800;
  }

  .markdown-editor-toolbar {
    @apply flex justify-between items-center p-3 border-b border-slate-200 dark:border-slate-700;
    @apply bg-slate-50 dark:bg-slate-900/50;
  }

  .toolbar-btn {
    @apply px-3 py-1 rounded-md text-sm font-medium transition-all duration-200;
    @apply hover:bg-slate-200 dark:hover:bg-slate-700;
    @apply focus:outline-none focus:ring-2 focus:ring-red-500/20;
  }

  .toolbar-btn.active {
    @apply bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300;
  }

  .markdown-shortcuts {
    @apply flex flex-wrap gap-1 p-2 border-b border-slate-200 dark:border-slate-700;
    @apply bg-slate-50 dark:bg-slate-900/30;
  }

  .shortcut-btn {
    @apply px-2 py-1 rounded text-xs font-medium transition-all duration-200;
    @apply hover:bg-slate-200 dark:hover:bg-slate-700;
    @apply focus:outline-none focus:ring-2 focus:ring-red-500/20;
  }

  .markdown-editor-textarea {
    @apply w-full p-4 border-none outline-none resize-none;
    @apply bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100;
    @apply placeholder-slate-500 dark:placeholder-slate-400;
    @apply font-mono text-sm;
  }

  .character-count {
    @apply text-xs text-slate-500 dark:text-slate-400 p-2 text-right;
  }

  .character-count.over-limit {
    @apply text-red-600 dark:text-red-400;
  }

  /* Category Selector Styles */
  .category-selector {
    @apply relative;
  }

  .category-select {
    @apply w-full px-3 py-2 border-2 border-slate-200 dark:border-slate-700 rounded-lg;
    @apply bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100;
    @apply transition-all duration-200;
    @apply focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20;
  }

  .selected-category-info {
    @apply flex items-center gap-2 mt-2 p-2 bg-slate-50 dark:bg-slate-900/50 rounded-lg;
  }

  .category-icon {
    @apply text-2xl;
  }

  .category-name {
    @apply font-medium text-slate-900 dark:text-slate-100;
  }

  .category-description {
    @apply text-sm text-slate-500 dark:text-slate-400;
  }

  /* Error Boundary Styles */
  .error-boundary {
    @apply min-h-screen flex items-center justify-center p-4;
    @apply bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-900 dark:to-slate-800;
  }

  .error-boundary-content {
    @apply max-w-md w-full text-center;
  }

  .error-icon {
    @apply text-6xl mb-4;
  }

  .error-details {
    @apply mt-4 text-left;
  }

  .error-stack {
    @apply bg-slate-100 dark:bg-slate-800 p-3 rounded-lg text-xs overflow-auto;
    @apply mt-2 max-h-40;
  }

  .error-actions {
    @apply flex flex-col sm:flex-row gap-3 mt-6;
  }

  .error-button {
    @apply px-4 py-2 rounded-lg font-medium transition-all duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
  }

  .error-button.primary {
    @apply bg-red-600 hover:bg-red-700 text-white focus:ring-red-500;
  }

  .error-button.secondary {
    @apply bg-slate-200 hover:bg-slate-300 text-slate-800 focus:ring-slate-500;
    @apply dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200;
  }
}

@layer utilities {
  .text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  
  .text-shadow-lg {
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  .animate-glow {
    animation: glow 2s ease-in-out infinite alternate;
  }

  .animate-spin-slow {
    animation: spin 3s linear infinite;
  }

  .animate-bounce-slow {
    animation: bounce 2s infinite;
  }
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes glow {
  0% { box-shadow: 0 0 20px rgba(239, 68, 68, 0.5); }
  100% { box-shadow: 0 0 30px rgba(239, 68, 68, 0.8); }
}

/* Responsive Design */
@media (max-width: 768px) {
  .btn-primary,
  .btn-secondary,
  .btn-success,
  .btn-warning,
  .btn-danger {
    @apply w-full justify-center;
  }

  .card-header,
  .card-body,
  .card-footer {
    @apply p-4;
  }

  .form-input,
  .form-textarea,
  .form-select {
    font-size: 16px; /* Prevent zoom on iOS */
  }
}

@media (max-width: 480px) {
  .card-header,
  .card-body,
  .card-footer {
    @apply p-3;
  }
}

/* Print styles */
@media print {
  .btn,
  .card-footer,
  .markdown-editor-toolbar,
  .markdown-shortcuts {
    display: none !important;
  }
  
  .card {
    box-shadow: none !important;
    border: 1px solid #d1d5db !important;
  }
} 